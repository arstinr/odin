<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper scissors</title>
</head>
<body>
    <script>
        console.log('Hello world!!!!')

        let humanScore = 0;
        let computerScore = 0;

        function getComputerChoice() {
            let computerChoice = Math.floor(Math.random() * 3) + 1;
            if (computerChoice == 1){
                computerChoice = "rock";
            } else if(computerChoice == 2){
                computerChoice = "paper";
            } else if(computerChoice == 3){
                computerChoice = "scissors";
            } 

            return computerChoice;
        }


        function getHumanChoice(){
            let humanChoice;
            while (true){
                humanChoice = prompt("What's your move?");
                humanChoice = humanChoice.toLowerCase();
                if (
                    (humanChoice == "rock") || 
                    (humanChoice == "paper") || 
                    (humanChoice == "scissors")
                ) {
                    break;
                } else {  
                    console.log("Please enter a valid move!");
                }
            }  
            console.log(`human choice is ${humanChoice}`)
            return humanChoice;          

        }

        function playRound(humanChoice, computerChoice) {
            let message;

            //if statements to decide who egets points
            if ((humanChoice == computerChoice)) {
                message = "Draw! Play another round!";
            } else if (
                (humanChoice == "rock" && computerChoice == "scissors") || 
                (humanChoice == "scissors" && computerChoice == "paper") || 
                (humanChoice == "paper" && computerChoice == "rock")
            ) {
                humanScore += 1;
                message = "Human point!";
            } else if (
                (computerChoice == "rock" && humanChoice == "scissors") || 
                (computerChoice == "scissors" && humanChoice == "paper") || 
                (computerChoice == "paper" && humanChoice == "rock")
            ) {
                computerScore += 1;
                message = "Computer point!";
            }

            return {
                message: message, 
                humanScore: humanScore, 
                computerScore: computerScore
            }

        }

        function playGame() {
            let roundsToPlay = 6;
            console.log("Starting game..");

            for (let i = 1; i < roundsToPlay; i++) {
                console.log(`Round ${i}`);

                let humanChoice = getHumanChoice();
                let computerChoice = getComputerChoice();
                
                //playRound(humanChoice, computerChoice);

                let result = playRound(humanChoice, computerChoice);
                console.log(result.message);
                console.log(`Current score: H${result.humanScore} : C${result.computerScore}`);
            }
        }

        playGame();

    </script>
    
    <!--

        Pseudocode for algorithm:
        getComputerChoice logic


        getHumanChoice logic
        Logic to play one round
        Logic to play entire game

    -->


</body>
</html>